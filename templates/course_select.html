<!DOCTYPE html>
<!-- after loging in, and selecting the profile, the user would be directed to this page to manipulate his/her profile-->
<html>
    <head>
        <title>Neo Magellan</title>
        <!-- might be a bug of flask, since changed "/course_select" to "/course_select/<profile_name>" -->
        <!-- the base path changed from top to "templates" folder -->
        <base href="static/bower_components/">

        <!-- Import Jquery and Jquery-UI -->
        <script type="text/javascript" src="jquery/dist/jquery.min.js"></script>
        <!-- Import angularjs -->
        <script type="text/javascript" src="angular/angular.min.js"></script>
        <!-- Import ng-angular-drag-and-drop-lists -->
        <script type="text/javascript" src="angular-drag-and-drop-lists/angular-drag-and-drop-lists.min.js"></script>
        <!-- import Materialize.js(depend on jquery) -->
        <script type="text/javascript" src="materialize/dist/js/materialize.min.js"></script>
        <script type="text/javascript" src="angular-materialize/src/angular-materialize.js"></script>

        <!--Import Google Icon Font-->
        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="materialize/dist/css/materialize.min.css" media="screen,projection"/>
        <!-- Import css -->
        <link rel="stylesheet" href="../css/course_select.css">
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
    <body ng-app="NeoMagellan">
        <div ng-include="'/components/header.html'"></div>
        <div ng-controller="courseSelect">
            <div class="row">
                <div class="col s3" id="navigator">
                    <!-- course_detail_modal -->
                    <div ng-include="'/components/course_detail_modal.html'"></div>
                    <!-- later there would be specifically designed icons for each course area -->
                    <ul id="main-areas" class="collapsible" data-collapsible="accordion">
                        <li ng-repeat="mainArea in mainAreas">
                            <div class="collapsible-header">
                                <i class="material-icons">filter_drama</i>{{mainArea.areaName}}</div>
                            <div class="collapsible-body">
                                <div class="row">
                                    <!-- courseLists contains fallcourses and wintercourses -->
                                    <div class="col s6" ng-repeat="course_list in mainArea.courseLists">
                                        <div ng-include="'navigator_course_list.html'"></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="col s8">
                    <div id="info-panel">
                        display the how much the current course selection meet the creteria 4 areas, 4 depth in 2 areas, etc... (x/y)
                    </div>
                    <br>
                    <div class="divider"></div>
                    <div id="course-table" ng-repeat="(year, course_list) in courseTable">
                        {{year}}
                        <div ng-include="'table_course_list.html'"></div>
                        <br><br><br>
                    </div>
                    <!-- trash can -->
                    <div class="trashcan box">
                        <h3>trash can</h3>
                        <ul dnd-list="[]">
                            <li>This is a trash can</li>
                        </ul>
                    </div>
                    <div class="btn" ng-click="checkProfile()">CHECK PROFILE</div>
                    <div class="btn" ng-click="submitProfile()">SUBMIT PROFILE</div>
                </div>
            </div>
        </div>
        <div class="divider"></div>
        <div id="comment-management" ng-controller="commentPanel">comment panel</div>
        <div ng-include="'/components/footer.html'"></div>
        <script type="text/javascript">
            // initialize apps modules
            angular.module('NeoMagellan', ['ui.materialize', 'dndLists']);
        </script>
        <!-- import controllers -->
        <script type="text/javascript" src="../js/course_select.js"></script>
        <script type="text/javascript" src="../js/comment_panel.js"></script>
        <!-- course list model in course table-->
        <script type="text/ng-template" id="table_course_list.html">
            <ul dnd-list="course_list" dnd-horizontal-list="true">
                <li ng-repeat="course in course_list" dnd-draggable="course" dnd-moved="course_list.splice($index, 1)" dnd-effect-allowed="move" ng-include="'course_item.html'"></li>
            </ul>
        </script>
        <!-- course list model in nav bar -->
        <script type="text/ng-template" id="navigator_course_list.html">
            <ul>
                <li ng-repeat="course in course_list" dnd-draggable="course" dnd-effect-allowed="copy" ng-include="'course_item.html'"></li>
            </ul>
        </script>
        <!-- course unit model -->
        <script type="text/ng-template" id="course_item.html">
            <button class="btn" data-target="course-detail-modal" ng-click="getCourseDetail(course.courseCode, course.courseLength)">
                {{course.courseCode}}
                {{course.courseTime}}
            </button>
        </script>
    </body>
</html>
